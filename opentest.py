import numpy as np
import cv2
import time
import tkinter as tk
from PIL import Image, ImageTk

src = "gst-launch-1.0 v4l2src device=/dev/video0 ! video/x-raw,format=NV12,width=1920,height=1080,framerate=30/1 ! videoconvert ! appsink"
#,cv2.CAP_GSTREAMER appsink drop=true sync=false
cap=cv2.VideoCapture(0)

#cap=cv2.VideoCapture(src, cv2.CAP_GSTREAMER)
time.sleep(3)

	
while cap.isOpened():
    ret, frame_read = cap.read()

    cv2.imshow('Read',frame_read)
    cv2.waitKey(30)
    if cap.isOpened():
        print(type(cap))
else:
        print(cap.isOpened())
cap.release()
